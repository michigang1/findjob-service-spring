<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Company Vacancies</title>
    <link th:href="@{/styles/listStyle.css}" rel="stylesheet" />
</head>
<body>
<
<table>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Company</th>
        <th>Schedule</th>
        <th>Phone Number</th>
        <th>Age Requirement</th>
        <th>Experience Age</th>
        <th>Education Degree</th>
        <th>Other Requirements</th>
        <td>
            <form id="create" th:method="GET" th:action="@{|/company/${vacancies.get(0).description.company.toLowerCase()}/vacancies/add|}">
                <button type="submit" class="btn btn-link">       ADD NEW VACANCY       </button>
            </form>
        </td>

    </tr>
    <tr th:each="vacancy : ${vacancies}">
        <td th:text="${#strings.escapeXml(vacancy.id)}"></td>
        <td>
            <span th:if="${vacancy.title == '' or vacancy.title == null}">To be added</span>
            <span th:text="${vacancy.title}" th:unless="${vacancy.title == '' or vacancy.title == null}"></span>
        </td>

        <td>
            <span th:if="${vacancy.description.company == '' or vacancy.description.company == null}">To be added</span>
            <span th:text="${vacancy.description.company}" th:unless="${vacancy.description.company == '' or vacancy.description.company == null}"></span>
        </td>
        <td>
            <span th:if="${vacancy.description.schedule == '' or vacancy.description.schedule == null}">To be added</span>
            <span th:text="${vacancy.description.schedule}" th:unless="${vacancy.description.schedule == '' or vacancy.description.schedule == null}"></span>
        </td>
        <td>
            <span th:if="${vacancy.description.phoneNum == '' or vacancy.description.phoneNum == null}">To be added</span>
            <span th:text="${vacancy.description.phoneNum}" th:unless="${vacancy.description.phoneNum == '' or vacancy.description.phoneNum == null}"></span>
        </td>
        <td>
            <span th:if="${vacancy.requirements.age == '' or vacancy.requirements.age == null}">To be added</span>
            <span th:text="${vacancy.requirements.age}" th:unless="${vacancy.requirements.age == '' or vacancy.requirements.age == null}"></span>
        </td>
        <td>
            <span th:if="${vacancy.requirements.experienceAge == '' or vacancy.requirements.experienceAge == null}">To be added</span>
            <span th:text="${vacancy.requirements.experienceAge}" th:unless="${vacancy.requirements.experienceAge == '' or vacancy.requirements.experienceAge == null}"></span>
        </td>
        <td>
            <span th:if="${vacancy.requirements.educationDegree == '' or vacancy.requirements.educationDegree == null}">To be added</span>
            <span th:text="${vacancy.requirements.educationDegree}" th:unless="${vacancy.requirements.educationDegree == '' or vacancy.requirements.educationDegree == null}"></span>
        </td>
        <td>
            <span th:if="${vacancy.requirements.otherReqs == '' or vacancy.requirements.otherReqs== null}">To be added</span>
            <span th:text="${vacancy.requirements.otherReqs}" th:unless="${vacancy.requirements.otherReqs == '' or vacancy.requirements.otherReqs == null}"></span>
        </td>

        <td id="buttons">
            <form id="edit" th:method="GET" th:action="@{|/company/${vacancy.description.company.toLowerCase()}/vacancies/edit|}">
                <button type="submit" name="vacancyId" th:value="${vacancy.id}" class="btn btn-link">EDIT</button>
            </form>


            <form id="delete" th:method="DELETE" th:action="@{|/company/${vacancy.description.company.toLowerCase()}/vacancies/delete|}">
                <button type="submit" name="vacancyId" th:value="${vacancy.id}" class="btn btn-link">DELETE</button>
            </form>
        </td>
    </tr>
</table>
</body>
</html>
